---
/**
 * SmoothScroll Component
 *
 * A client-side component that implements smooth scrolling using Lenis.
 * Initializes smooth scrolling on page load and handles reinitialization
 * during Astro page navigation.
 */
import 'lenis/dist/lenis.css'
---

<script>
  import { destroyLenis, initLenis } from '@utils/lenis'

  // Initialize on page load
  document.addEventListener('DOMContentLoaded', () => {
    try {
      initLenis()
    } catch (error) {
      console.warn('Failed to initialize smooth scrolling:', error)
    }
  })

  // Reinitialize on Astro page navigation
  document.addEventListener('astro:page-load', () => {
    try {
      destroyLenis()
      initLenis()
    } catch (error) {
      console.warn('Failed to initialize smooth scrolling:', error)
    }
  })
</script>
